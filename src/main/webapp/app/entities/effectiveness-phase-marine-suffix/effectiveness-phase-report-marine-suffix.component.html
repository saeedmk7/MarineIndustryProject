<div>
    <h2 id="page-heading">
        <span jhiTranslate="marineindustryprojApp.effectivenessPhase.home.titleReport">Effectiveness Phases</span>
        <!--<button id="jh-create-entity" class="btn btn-primary float-right jh-create-entity create-effectiveness-phase-marine-suffix" [routerLink]="['/effectiveness-phase-marine-suffix/new']">
            <fa-icon [icon]="'plus'"></fa-icon>
            <span  jhiTranslate="marineindustryprojApp.effectivenessPhase.home.createLabel">
            Create new Effectiveness Phase
            </span>
        </button>-->
        <button  class="btn btn-info float-left" jhiTranslate="entity.action.getexcel" (click)="export()">
            <span class="fa fa-file-excel-o"></span>
            excel
        </button>
    </h2>
    <mi-alert></mi-alert>
    <search-panel [(page)]="page" [(size)]="itemsPerPage" [predicate]="predicate" [reverse]="reverse"
                  [searchPanelModel]="searchbarModel"></search-panel>
    <br/>
    <div class="table-responsive" *ngIf="effectivenessPhases">
        <table class="table table-striped table-bordered table-sm">
            <!--<tr>

                <th colspan="4">{{finalNiazsanjiReport.educationalModuleTitle}} ( {{finalNiazsanjiReport.educationalModuleCode}} )
                </th>
                <th colspan="3"><span jhiTranslate="marineindustryprojApp.effectivenessPhase.finishDate">تاریخ برگزاری دوره</span>
                </th>
                <th>{{finalNiazsanjiReport.runPhases[0].finishDate}}</th>
                <th><span jhiTranslate="marineindustryprojApp.effectivenessPhase.time">مدت</span></th>
                <th>{{finalNiazsanjiReport.educationalModuleTotalTime}}</th>
                <th><span jhiTranslate="marineindustryprojApp.effectivenessPhase.teacher">استاد</span></th>
                <th colspan="2">{{finalNiazsanjiReport.teacherFullName}}</th>
                &lt;!&ndash;<th></th>&ndash;&gt;
            </tr>-->
            <thead>
            <tr>
                <!--<th jhiSortBy="id"><span jhiTranslate="global.field.id">ID</span> <fa-icon [icon]="'sort'"></fa-icon></th>-->
                <th>ردیف</th>
                <th><span
                    jhiTranslate="marineindustryprojApp.finalNiazsanjiEffectivenessPhase.organizationChart">Organization Chart</span>
                </th>
                <th><span jhiTranslate="marineindustryprojApp.effectivenessPhase.courseTitle"> نام دوره: </span></th>
                <th><span jhiTranslate="marineindustryprojApp.effectivenessPhase.finishDate">تاریخ برگزاری دوره</span></th>
                <th><span jhiTranslate="marineindustryprojApp.effectivenessPhase.criteria">criteria</span></th>
                <th><span jhiTranslate="marineindustryprojApp.effectivenessPhaseLevel.unitOfMeasurement">Unit Of Measurement</span>
                </th>
                <th><span jhiTranslate="marineindustryprojApp.effectivenessPhaseLevel.goal">goal</span></th>
                <th colspan="2"><span jhiTranslate="marineindustryprojApp.effectivenessPhase.real">real</span></th>
                <th><span jhiTranslate="marineindustryprojApp.effectivenessPhase.finalScore">finalScore</span></th>
                <th><span jhiTranslate="marineindustryprojApp.effectivenessPhase.weightedPoints">weightedPoints</span>
                </th>
                <th><span jhiTranslate="marineindustryprojApp.effectivenessPhase.weight">weight</span></th>
                <th><span jhiTranslate="marineindustryprojApp.effectivenessPhase.startPhaseDate">Start Phase Date</span>
                </th>
                <th><span
                    jhiTranslate="marineindustryprojApp.effectivenessPhase.finishPhaseDate">Finish Phase Date</span>
                </th>
                <th><span
                    jhiTranslate="marineindustryprojApp.finalNiazsanjiEffectivenessPhase.niazsanjiYear">Niazsanji Year</span>
                </th>
                <th><span jhiTranslate="marineindustryprojApp.finalNiazsanjiEffectivenessPhase.teacher">Teacher</span>
                </th>
                <th><span
                    jhiTranslate="marineindustryprojApp.finalNiazsanjiEffectivenessPhase.status">Status</span>
                </th>
                <!--<th><span
                    jhiTranslate="marineindustryprojApp.effectivenessPhase.peopleFinishCount">peopleFinishCount</span>
                </th>
                <th><span jhiTranslate="marineindustryprojApp.effectivenessPhase.peopleCount">peopleCount</span></th>-->
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let effectivenessPhase of effectivenessPhases ;let i = index"
                [ngClass]="{'ignore': effectivenessPhase.status == 0,'new': effectivenessPhase.status === 10,'accept': effectivenessPhase.status === 20}">
                <td>{{i + 1}}</td>
                <td>{{effectivenessPhase.finalNiazsanjiReport.organizationChartRootTitle}}</td>
                <td>{{effectivenessPhase.finalNiazsanjiReport.educationalModuleTitle}}
                    ( {{effectivenessPhase.finalNiazsanjiReport.educationalModuleCode}} )
                </td>
                <td>{{effectivenessPhase.finalNiazsanjiReport.runPhases && effectivenessPhase.finalNiazsanjiReport.runPhases.length > 0 ? effectivenessPhase.finalNiazsanjiReport.runPhases[0].finishDate : ''}}</td>
                <td>{{effectivenessPhase.effectivenessPhaseLevelTitle}}</td>
                <td jhiTranslate="{{'marineindustryprojApp.UnitOfMeasurement.' + effectivenessPhase.effectivenessPhaseLevel.unitOfMeasurement}}">
                    {{effectivenessPhase.effectivenessPhaseLevel.unitOfMeasurement}}
                </td>
                <td>{{effectivenessPhase.effectivenessPhaseLevel.goal}}</td>
                <td>{{effectivenessPhase.firstScore | number: '1.0-1'}}</td>
                <td>{{effectivenessPhase.secondScore | number: '1.0-1'}}</td>
                <td>{{effectivenessPhase.finalScore | number: '1.0-1'}}</td>
                <td>{{effectivenessPhase.weightedPoints | number: '1.0-1'}}</td>
                <td>{{effectivenessPhase.effectivenessPhaseLevel.weight}}</td>
                <td>{{effectivenessPhase.startPhaseDate}}</td>
                <td>{{effectivenessPhase.finishPhaseDate}}</td>
                <td>{{effectivenessPhase.finalNiazsanjiReport.niazsanjiYear}}</td>
                <td>{{effectivenessPhase.finalNiazsanjiReport.teacherName}}
                    {{effectivenessPhase.finalNiazsanjiReport.teacherFamily}}
                </td>
                <td>{{effectivenessPhase.statusMeaning}}</td>
                <!--<td>{{effectivenessPhase.peopleFinishCount}}</td>
                <td>{{effectivenessPhase.peopleCount}}</td>-->
            </tr>
            <tr>
                <th colspan="9">میانگین</th>
                <th>{{averageFinalScore | number: '1.0-1'}}</th>
                <th>{{averageWeightedPoints | number: '1.0-1'}}</th>
                <th colspan="10"></th>
            </tr>
            </tbody>
            <tfoot>
            <tr>
                <td colspan="5">
                    <select [(ngModel)]="itemsPerPage">
                        <option value="10">۱۰</option>
                        <option value="20">۲۰</option>
                        <option value="50">۵۰</option>
                        <option value="100">۱۰۰</option>
                        <option value="500">۵۰۰</option>
                        <option value="1000">۱۰۰۰</option>
                        <option value="2000">۲۰۰۰</option>
                    </select>
                    <div class="row justify-content-center">
                        <jhi-item-count [page]="page" [total]="queryCount" [maxSize]="5"
                                        [itemsPerPage]="itemsPerPage"></jhi-item-count>
                    </div>
                </td>

                <td colspan="20">

                </td>
            </tr>
            </tfoot>
        </table>
    </div>
    <div *ngIf="effectivenessPhases && effectivenessPhases.length">
        <div class="row justify-content-center">
            <ngb-pagination [collectionSize]="totalItems" [(page)]="page" [pageSize]="itemsPerPage" [maxSize]="5"
                            [rotate]="true" [boundaryLinks]="true" (pageChange)="loadPage(page)"></ngb-pagination>
        </div>
    </div>
</div>
