<div class="row justify-content-center">
    <div class="col-8">
        <form name="editForm" role="form" novalidate (ngSubmit)="save()" #editForm="ngForm">
            <h2 id="mi-run-phase-marine-suffix-heading" jhiTranslate="marineindustryprojApp.runPhase.home.createOrEditLabel">Create or edit a Run Phase</h2>
            <!--<section id="tabs" class="project-tab">
                <div class="container">-->
                    <div class="row">
                        <div class="col-md-12">
                            <nav>
                                <div class="nav nav-tabs nav-fill" id="nav-tab" role="tablist">
                                    <a *ngFor="let item of runPhaseTabModel" class="nav-item nav-link" [ngClass]="{'active': item.active}" [id]="'nav-' + item.id" data-toggle="tab" [href]="item.href"  role="tab" >{{item.title}}</a>
                                    <!--<a class="nav-item nav-link active" id="nav-home-tab" data-toggle="tab" href="#nav-home" role="tab" aria-controls="nav-home" aria-selected="true">Project Tab 1</a>
                                    <a class="nav-item nav-link" id="nav-profile-tab" data-toggle="tab" href="#nav-profile" role="tab" aria-controls="nav-profile" aria-selected="false">Project Tab 2</a>
                                    <a class="nav-item nav-link" id="nav-contact-tab" data-toggle="tab" href="#nav-contact" role="tab" aria-controls="nav-contact" aria-selected="false">Project Tab 3</a>-->
                                </div>
                            </nav>
                            <div class="tab-content" id="nav-tabContent">
                                <div *ngFor="let tab of runPhaseTabModel" class="tab-pane fade" [ngClass]="{'active show': tab.active}" [id]="tab.id" role="tabpanel">
                                    <table class="table" cellspacing="0" border="0">
                                        <thead>
                                        <tr>
                                            <th>ردیف</th>
                                            <th>عنوان</th>
                                            <th>انجام شده؟</th>
                                            <th>توضیحات انجام کار</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr *ngFor="let item of tab.runPhaseItems; let i = index">
                                            <td>
                                                {{i+1}}
                                            </td>
                                            <td>
                                                <label>{{item.title}}</label>
                                            </td>
                                            <td>
                                                <input type="checkbox" [id]="'chk-' + item.id" [name]="'chk-' + item.id" [checked]="item.checked" [alt]="item.description" [title]="item.description" />
                                            </td>
                                            <td>
                                                <textarea class="form-control" [id]="'txt-' + item.id" [name]="'txt-' + item.id">{{item.descMessage}}</textarea>
                                            </td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
            <div>
                <mi-alert-error></mi-alert-error>
                <div class="form-group" [hidden]="true">
                    <label for="id" jhiTranslate="global.field.id">ID</label>
                    <input type="hidden" class="form-control" id="id" name="id"
                        [(ngModel)]="runPhase.id" readonly />
                </div>

                <div class="form-group">
                    <label class="form-control-label" jhiTranslate="marineindustryprojApp.runPhase.description" for="field_description">Description</label>
                    <textarea type="text" class="form-control" name="description" id="field_description"
                              [(ngModel)]="runPhase.description" maxlength="4096"></textarea>
                    <div [hidden]="!(editForm.controls.description?.dirty && editForm.controls.description?.invalid)">
                        <small class="form-text text-danger"
                        [hidden]="!editForm.controls.description?.errors?.maxlength" jhiTranslate="entity.validation.maxlength" translateValues="{ max: 4096 }">
                        This field cannot be longer than 4096 characters.
                        </small>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-control-label" jhiTranslate="marineindustryprojApp.runPhase.finalizeCost" for="field_finalizeCost">Finalize Cost</label>
                    <input type="number" class="form-control" name="finalizeCost" id="field_finalizeCost"
                        [(ngModel)]="runPhase.finalizeCost" required/>
                    <div [hidden]="!(editForm.controls.finalizeCost?.dirty && editForm.controls.finalizeCost?.invalid)">
                        <small class="form-text text-danger"
                        [hidden]="!editForm.controls.finalizeCost?.errors?.required" jhiTranslate="entity.validation.required">
                        This field is required.
                        </small>
                        <small class="form-text text-danger"
                            [hidden]="!editForm.controls.finalizeCost?.errors?.number" jhiTranslate="entity.validation.number">
                            This field should be a number.
                        </small>
                    </div>
                </div>
                <!--<textarea class="row alert alert-danger" cols="150" *ngIf="errorMessage">{{errorMessage}}</textarea>-->
                <div class="row alert alert-danger" *ngIf="errorMessage" [innerHTML]="errorMessage"></div>
            </div>
            <div *ngIf="isAdmin">
                <a href="#/running-step-marine-suffix" [ngClass]="{'enableLink': isAdmin}" class="btn btn-warning">
                    <span class="fa fa-file"></span>
                    <span class="d-none d-md-inline">ثبت مراحل فاز اجرا</span>
                </a>
            </div>
            <div>
                <button type="button" id="cancel-save" class="btn btn-secondary"  (click)="previousState()">
                    <fa-icon [icon]="'ban'"></fa-icon>&nbsp;<span jhiTranslate="entity.action.cancel">Cancel</span>
                </button>
                <button type="submit" id="save-entity" [disabled]="editForm.form.invalid || isSaving" class="btn btn-primary">
                    <fa-icon [icon]="'save'"></fa-icon>&nbsp;<span jhiTranslate="entity.action.save">Save</span>
                </button>
                <button type="button" (click)="finalize()" id="finalize-entity" [disabled]="editForm.form.invalid || isSaving" class="btn btn-success">
                    <span><fa-icon [icon]="'save'"></fa-icon>تایید نهایی</span>
                </button>
                <button type="button" (click)=change(documentUrl) [disabled]="documentUrl == undefined" class="btn btn-warning pull-left">
                    <span class="fa fa-file"></span>
                    <span class="d-none d-md-inline">ثبت مدارک</span>
                </button>
                <span class="alert alert-info pull-left">برای ثبت مدارک لطفا ابتدا اطلاعات اولیه فاز اجرا را ذخیره نمائید سپس دکمه ثبت مدارک فعال خواهد شد.</span>
            </div>

        </form>
    </div>
</div>
